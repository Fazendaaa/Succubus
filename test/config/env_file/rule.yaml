image: golang

objectives:
  base:
    test:
      go test --verbose
    add:
      env:
        - ENV=${ENV}
      commands:
        get:
          env_file: /home/user/foo/bar
          command: go get $ARGV[0]
        tidy: go mod tidy
    rm:
      go mod tidy

  dev:
    anal:
      gosec -fmt=sonarqujbe -out report.json ./..
    linter:
      golangci-lint run
    doc:
      go doc .
